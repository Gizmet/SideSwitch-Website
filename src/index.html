<!DOCTYPE html>
<html>
<head>
    <title>SideSwitch</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="app">
        <div id="navigation" class="nav">
            <!-- Brand -->
            <div class="brand">
                <div class="brand-tile" aria-hidden="true"><span class="brand-glyph">s</span></div>
                <div class="brand-text">SideSwitch</div>
            </div>

            <!-- Sites list -->
            <div id="site-list" class="nav-group"></div>

            <!-- Bottom actions -->
            <div class="nav-bottom">
                <button id="add-site-btn" class="btn secondary">
                    <span class="plus" aria-hidden="true">ï¼‹</span> Add Site
                </button>

                <button id="toggle-blur" class="btn primary"
                    aria-pressed="false" aria-label="Toggle Blur (B)"
                    title="Toggle Blur (B)">
                    Blur
                </button>
            </div>
        </div>

        <div id="content">
            <div id="webview-container">
                <webview id="site-view" 
                    src="data:text/html,<html><body style='background:black'></body></html>"
                    allowpopups
                    webpreferences="allowRunningInsecureContent=true, webSecurity=false, experimentalFeatures=true, nativeWindowOpen=true, javascript=true, plugins=true, webgl=true, backgroundThrottling=false"
                    useragent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"
                    partition="persist:streamer"
                    httpreferrer="https://www.google.com"
                    disablewebsecurity
                    allowtransparency
                    plugins
                    autosize
                    nodeintegration
                    nodeintegrationinsubframes
                    allowpopups
                    enableremotemodule
                    blinkfeatures="WebRTC,AudioVideoTracks,GetUserMedia,MediaStreamTrack,WebGL,WebGL2"
                    style="width: 100%; height: 100%; background: black;"
                    ></webview>
                <div id="loading-indicator" style="display: none; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); color: white; font-size: 18px;">Loading...</div>
                <div id="dim-overlay" class="dim-overlay">
                    <div class="resize-handle"></div>
                </div>
            </div>
        </div>
    </div>

    <div id="settings-modal" class="modal">
        <div class="modal-content">
            <h2>Settings</h2>
            <div class="settings-group">
                <label>
                    <input type="checkbox" id="dark-mode">
                    Dark Mode
                </label>
                <label>
                    <input type="checkbox" id="auto-connect">
                    Auto Connect
                </label>
                <label>
                    <input type="checkbox" id="save-logs">
                    Save Chat Logs
                </label>
            </div>
            <div class="settings-group">
                <label>
                    Privacy Mode
                    <select id="privacy-mode">
                        <option value="normal">Normal</option>
                        <option value="strict">Strict</option>
                        <option value="custom">Custom</option>
                    </select>
                </label>
            </div>
            <div class="button-group">
                <button onclick="saveSettings()">Save</button>
                <button onclick="closeSettings()">Cancel</button>
            </div>
        </div>
    </div>

    <!-- Add Site Modal -->
    <div id="add-site-modal" class="modal">
        <div class="modal-content">
            <h2>Add New Site</h2>
            <form id="add-site-form" class="add-site-form">
                <div class="form-group">
                    <input type="text" id="site-name" placeholder="Site Name (e.g. Omegle)" required>
                </div>
                <div class="form-group">
                    <input type="url" id="site-url" placeholder="Site URL (e.g. https://omegle.com)" required>
                </div>
                <div class="button-group">
                    <button type="submit" class="primary-button">Add Site</button>
                    <button type="button" id="cancel-add-site" class="secondary-button">Cancel</button>
                </div>
            </form>
        </div>
    </div>

    <script src="renderer.js"></script>
</body>
</html> 